<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Assignment 5: Improve performance of BVH construction by fishirenee</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Assignment 5: Improve performance of BVH construction</h1>
      <h2 class="project-tagline">CMU 15-462/662 Assignment 5: Improve performance of BVH construction</h2>
      <a href="https://github.com/fishirenee/15662_asst5" class="btn">View on GitHub</a>
      <a href="https://github.com/fishirenee/15662_asst5/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/fishirenee/15662_asst5/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h2>
<a id="final-project-improve-performance-of-bvh-construction" class="anchor" href="#final-project-improve-performance-of-bvh-construction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Final Project: Improve performance of BVH construction</h2>

<p>For the final project. My topic is option F: Advanced Monte Carlo Rendering. And the track I implemented is improving the performance of the BVH path tracing. I followed the article “Fast Parallel Construction of High-Quality Bounding Volume Hierarchies”. However, I tried to realized a Parallel construction system but the thing I need to learn for the first time is not within the time limitation and my learning ability.. So I didn’t realize the full function out.</p>

<p>I will introduce about the functions I have for now. The performance improving functions are based on the assignment 3. And currently all the works are in the bvh.cpp.</p>

<p>Since we already have a basic BVH structure really from assignment 3. I started with it and tried to form the treelet structure according to the article. The overall idea is to set the number of leaf node to 7 and the internal node number to 5. While traveling through the original BVH tree. Reset the relationship of the internal node according to the SAH of every possible internal node arrangement. And let the smallest cost one to be the final internal node arrangement. While keep the relationship of the internal node and the corresponding leaf nodes.</p>

<p>I have the following functions to realize the thought above:</p>

<ul>
<li>getArea() </li>
</ul>

<p>Input:
Output:</p>

<blockquote>
<p>get the surface area of the bounding box according to the diagonal line’s vertex.</p>
</blockquote>

<p><code>double BVHAccel::getArea(double min_x, double max_x, double min_y, double max_y, double min_z, double max_z)</code>
<code>{</code>
  <code>double dx = max_x - min_x;</code>
  <code>double dy = max_y - min_y;</code>
  <code>double dz = max_z - min_z;</code>
  <code>return 2 * (dx * dy + dx * dz + dy * dz);</code>
<code>}</code></p>

<ul>
<li>mergeBox()</li>
</ul>

<p>Input: bounding box1, bounding box2, bounding box3
Output: void</p>

<p>reset the bounding box3’s attributes using the smallest and largest attributes from bounding box1 and bounding box2.</p>

<ul>
<li><p>getTreelet()</p></li>
<li><p>updateNewCost()</p></li>
</ul>

<p>Input: root of the BVH
Output: void</p>

<p>for all the node in the tree
    calculate the cost of each node according to it's children's cost
end</p>

<ul>
<li>updateNewArea()</li>
</ul>

<p>Input: root of the BVH
Output: void</p>

<p>for all the node in the tree
    calculate the area of each leaf node
    let the parent internal node go to lower level 
end</p>

<ul>
<li><p>rebuiltBVH()</p></li>
<li><p>treeletOptimize()</p></li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/fishirenee/15662_asst5">Assignment 5: Improve performance of BVH construction</a> is maintained by <a href="https://github.com/fishirenee">fishirenee</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
